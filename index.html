<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SaponoClean Pro - Jabones artesanales con base cient√≠fica. Proceso de saponificaci√≥n controlada.">
    <meta property="og:title" content="SaponoClean Pro - Jabones Cient√≠ficos">
    <meta property="og:description" content="Jabones artesanales elaborados con proceso de saponificaci√≥n cient√≠fica. ¬°Ordena ahora!">
    <meta property="og:type" content="website">
    <meta property="fb:app_id" content="123456789">
    <title>SaponoClean Pro - Jabones Cient√≠ficos</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, Helvetica, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 50%, #9b59b6 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        .hero {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: 25px;
            margin: 20px auto;
            padding: 40px 30px;
            text-align: center;
            box-shadow: 0 15px 35px rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            0% { opacity: 0; transform: translateY(50px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .main-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .logo-icon {
            font-size: 4rem;
            color: #f39c12;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .logo-text {
            font-size: 3.5rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .tagline {
            font-size: 1.4rem;
            color: #ecf0f1;
            margin-bottom: 15px;
            font-weight: 300;
        }

        .subtitle {
            font-size: 1.1rem;
            color: #bdc3c7;
            margin-bottom: 30px;
        }

        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .nav-btn {
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.3);
            cursor: pointer;
            display: inline-block;
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .nav-btn.active {
            background: rgba(255, 255, 255, 0.4);
            border-color: rgba(255, 255, 255, 0.6);
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px 30px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        .section h2 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 30px;
            text-align: center;
            position: relative;
        }

        .section h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(45deg, #3498db, #9b59b6);
            border-radius: 2px;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .product-card {
            background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            transition: all 0.4s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #e74c3c, #f39c12, #27ae60);
        }

        .product-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
            border-color: #3498db;
        }

        .product-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            color: #3498db;
        }

        .product-title {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .product-description {
            color: #7f8c8d;
            margin-bottom: 20px;
            line-height: 1.6;
            font-size: 1.1rem;
        }

        .product-benefits {
            background: #ecf0f1;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            text-align: left;
        }

        .product-benefits ul {
            list-style: none;
            padding: 0;
        }

        .product-benefits li {
            margin: 8px 0;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .product-benefits li::before {
            content: '‚úì';
            color: #27ae60;
            font-weight: bold;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .price {
            font-size: 2.2rem;
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 20px;
        }

        .btn {
            display: inline-block;
            padding: 15px 35px;
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: bold;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.4);
        }

        .btn-danger {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
        }

        .btn-danger:hover {
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.4);
        }

        .process-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .step-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            border-left: 5px solid #3498db;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .step-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #3498db, #9b59b6, #e74c3c);
        }

        .step-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .step-number {
            background: linear-gradient(45deg, #3498db, #9b59b6);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin: 0 auto 20px;
        }

        .step-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #3498db;
        }

        .hygiene-benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .hygiene-card {
            background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%);
            border-radius: 15px;
            padding: 25px;
            border-left: 4px solid #27ae60;
            transition: all 0.3s ease;
        }

        .hygiene-card:hover {
            transform: translateX(5px);
            box-shadow: 0 10px 25px rgba(39, 174, 96, 0.2);
        }

        .hygiene-icon {
            font-size: 2.5rem;
            color: #27ae60;
            margin-bottom: 15px;
        }

        .chemical-formula {
            background: #2c3e50;
            color: #ecf0f1;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            position: relative;
            overflow: hidden;
        }

        .chemical-formula::before {
            content: 'üß™';
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 2rem;
            opacity: 0.3;
        }

        .formula-title {
            color: #3498db;
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .formula-equation {
            font-size: 1.2rem;
            background: rgba(52, 152, 219, 0.1);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            margin: 10px 0;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
        }

        .quantity-btn {
            background: #3498db;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .quantity-btn:hover {
            background: #2980b9;
            transform: scale(1.1);
        }

        .quantity-display {
            background: #ecf0f1;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            color: #2c3e50;
            min-width: 60px;
            text-align: center;
        }

        .floating-cart {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
            border-radius: 50%;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.4);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .floating-cart:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 35px rgba(231, 76, 60, 0.6);
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #f39c12;
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: bold;
            border: 3px solid white;
        }

        .cart-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            display: none;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 2px solid #ecf0f1;
            transition: all 0.3s ease;
            gap: 15px;
        }

        .cart-item:hover {
            background: #f8f9fa;
            border-radius: 10px;
        }

        .cart-item-info {
            flex: 1;
        }

        .order-form {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 40px 30px;
            margin: 20px 0;
            display: none;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2c3e50;
            font-size: 1.1rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #bdc3c7;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #3498db;
            background: white;
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.2);
        }

        .social-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .social-btn {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px 30px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            color: white;
            font-size: 1.1rem;
        }

        .whatsapp { 
            background: linear-gradient(45deg, #25D366, #20c05c); 
        }
        .facebook { 
            background: linear-gradient(45deg, #1877F2, #145dbf); 
        }
        .instagram { 
            background: linear-gradient(45deg, #E4405F, #833AB4); 
        }

        .social-btn:hover {
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        .team-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            padding: 40px 30px;
            text-align: center;
            margin: 30px 0;
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .team-member {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .alert {
            padding: 15px;
            margin: 15px 0;
            border-radius: 10px;
            font-weight: bold;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .receipt-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            padding: 20px;
        }

        .receipt-modal.active {
            display: flex;
        }

        .receipt-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
        }

        .receipt-header {
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        .receipt-logo {
            font-size: 3rem;
            color: #f39c12;
            margin-bottom: 10px;
        }

        .receipt-title {
            font-size: 2rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .receipt-subtitle {
            color: #7f8c8d;
            font-size: 1rem;
        }

        .receipt-number {
            background: linear-gradient(45deg, #3498db, #9b59b6);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1.1rem;
            display: inline-block;
            margin: 20px 0;
        }

        .receipt-section {
            margin: 25px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #3498db;
        }

        .receipt-section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .receipt-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .receipt-field {
            margin-bottom: 10px;
        }

        .receipt-field strong {
            color: #2c3e50;
            display: block;
            margin-bottom: 3px;
        }

        .receipt-products {
            margin: 20px 0;
        }

        .receipt-product {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .receipt-product:last-child {
            border-bottom: none;
            font-weight: bold;
            font-size: 1.1rem;
            color: #e74c3c;
        }

        .receipt-total {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 25px 0;
        }

        .receipt-total-amount {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .receipt-qr {
            text-align: center;
            margin: 25px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border: 2px dashed #3498db;
        }

        .receipt-actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .receipt-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .receipt-btn-primary {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
        }

        .receipt-btn-success {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
        }

        .receipt-btn-secondary {
            background: linear-gradient(45deg, #95a5a6, #7f8c8d);
            color: white;
        }

        .receipt-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: #7f8c8d;
            transition: color 0.3s ease;
        }

        .close-modal:hover {
            color: #e74c3c;
        }

        .receipt-footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #ecf0f1;
            color: #7f8c8d;
            font-size: 0.9rem;
        }

        .loading-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 15000;
        }

        .loading-modal.active {
            display: flex;
        }

        .loading-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
            min-width: 300px;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .email-status {
            margin-top: 15px;
            padding: 10px;
            border-radius: 8px;
            font-weight: bold;
        }

        .email-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .email-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        @media print {
            .receipt-modal {
                position: static;
                background: white;
                padding: 0;
            }
            
            .receipt-content {
                box-shadow: none;
                max-height: none;
            }
            
            .receipt-actions,
            .close-modal {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .receipt-content {
                padding: 25px;
                margin: 10px;
            }
            
            .receipt-info {
                grid-template-columns: 1fr;
            }
            
            .receipt-actions {
                flex-direction: column;
                align-items: center;
            }
        }

        @media (max-width: 768px) {
            .hero {
                padding: 30px 20px;
            }
            
            .logo-text {
                font-size: 2.5rem;
            }
            
            .logo-icon {
                font-size: 3rem;
            }
            
            .main-logo {
                flex-direction: column;
                gap: 10px;
            }
            
            .product-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .floating-cart {
                width: 60px;
                height: 60px;
                bottom: 20px;
                right: 20px;
            }

            .section {
                padding: 30px 20px;
            }

            .cart-item {
                flex-direction: column;
                align-items: flex-start;
                text-align: left;
            }

            .social-buttons {
                flex-direction: column;
                align-items: center;
            }

            .process-steps {
                grid-template-columns: 1fr;
            }

            .hygiene-benefits {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 10px;
            }

            .section h2 {
                font-size: 2rem;
            }

            .product-card {
                padding: 20px;
            }

            .order-form {
                padding: 25px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="hero">
            <div class="main-logo">
                <div class="logo-icon">üß™</div>
                <div class="logo-text">SaponoClean Pro</div>
            </div>
            <div class="tagline">Sistema Integral de Jabones Artesanales con Base Cient√≠fica</div>
            <div class="subtitle">
                Combinando Ingenier√≠a Petroqu√≠mica, Saponificaci√≥n Controlada y Tecnolog√≠a Digital
            </div>
            
            <div class="nav-buttons">
                <a href="javascript:void(0)" class="nav-btn active" onclick="showSection('productos')">üõí Productos</a>
                <a href="javascript:void(0)" class="nav-btn" onclick="showSection('proceso')">üî¨ Proceso</a>
                <a href="javascript:void(0)" class="nav-btn" onclick="showSection('higiene')">üßº Beneficios</a>
                <a href="javascript:void(0)" class="nav-btn" onclick="showSection('contacto')">üìû Contacto</a>
            </div>
        </div>

        <!-- Secci√≥n de Productos -->
        <div id="productos" class="section active">
            <h2>üõí Cat√°logo de Productos</h2>
            
            <div class="product-grid">
                <div class="product-card">
                    <div class="product-icon">üåø</div>
                    <div class="product-title">EcoClean Basic</div>
                    <div class="product-description">
                        Jab√≥n fundamental elaborado mediante saponificaci√≥n controlada con aceites vegetales puros. 
                        Ideal para uso diario y pieles sensibles.
                    </div>
                    <div class="product-benefits">
                        <strong>Beneficios Higi√©nicos:</strong>
                        <ul>
                            <li>Eliminaci√≥n efectiva de bacterias y virus</li>
                            <li>pH balanceado (9-10) para limpieza profunda</li>
                            <li>Hidrataci√≥n natural de la piel</li>
                            <li>Sin qu√≠micos agresivos</li>
                        </ul>
                    </div>
                    <div class="price">$2.50</div>
                    <div class="quantity-controls">
                        <button class="quantity-btn" onclick="changeQuantity('basic', -1)">-</button>
                        <div class="quantity-display" id="basic-qty">0</div>
                        <button class="quantity-btn" onclick="changeQuantity('basic', 1)">+</button>
                    </div>
                    <button class="btn" onclick="addToCart('basic', 'EcoClean Basic', 2.50)">
                        Agregar al Carrito
                    </button>
                </div>

                <div class="product-card">
                    <div class="product-icon">üå∏</div>
                    <div class="product-title">AromaTherapy Pro</div>
                    <div class="product-description">
                        Jab√≥n especializado con aceites esenciales naturales y propiedades arom√°ticas terap√©uticas.
                        Proceso de saponificaci√≥n en fr√≠o para conservar propiedades.
                    </div>
                    <div class="product-benefits">
                        <strong>Beneficios Higi√©nicos:</strong>
                        <ul>
                            <li>Acci√≥n antimicrobiana potenciada</li>
                            <li>Relajaci√≥n muscular por aromaterapia</li>
                            <li>Estimula la circulaci√≥n sangu√≠nea</li>
                            <li>Reduce estr√©s durante el aseo</li>
                        </ul>
                    </div>
                    <div class="price">$3.50</div>
                    <div class="quantity-controls">
                        <button class="quantity-btn" onclick="changeQuantity('aroma', -1)">-</button>
                        <div class="quantity-display" id="aroma-qty">0</div>
                        <button class="quantity-btn" onclick="changeQuantity('aroma', 1)">+</button>
                    </div>
                    <button class="btn" onclick="addToCart('aroma', 'AromaTherapy Pro', 3.50)">
                        Agregar al Carrito
                    </button>
                </div>

                <div class="product-card">
                    <div class="product-icon">‚öóÔ∏è</div>
                    <div class="product-title">Laboratory Premium</div>
                    <div class="product-description">
                        Jab√≥n de grado farmac√©utico desarrollado con tecnolog√≠a de microencapsulaci√≥n de activos.
                        M√°xima eficacia higi√©nica con control de calidad de laboratorio.
                    </div>
                    <div class="product-benefits">
                        <strong>Beneficios Higi√©nicos:</strong>
                        <ul>
                            <li>99.9% de eliminaci√≥n microbiana</li>
                            <li>Liberaci√≥n controlada de activos</li>
                            <li>Protecci√≥n antimicrobiana prolongada</li>
                            <li>Certificaci√≥n de calidad farmac√©utica</li>
                        </ul>
                    </div>
                    <div class="price">$5.00</div>
                    <div class="quantity-controls">
                        <button class="quantity-btn" onclick="changeQuantity('premium', -1)">-</button>
                        <div class="quantity-display" id="premium-qty">0</div>
                        <button class="quantity-btn" onclick="changeQuantity('premium', 1)">+</button>
                    </div>
                    <button class="btn" onclick="addToCart('premium', 'Laboratory Premium', 5.00)">
                        Agregar al Carrito
                    </button>
                </div>
            </div>
        </div>

        <!-- Secci√≥n del Proceso -->
        <div id="proceso" class="section">
            <h2>üî¨ Proceso de Saponificaci√≥n Cient√≠fica</h2>
            
            <div class="chemical-formula">
                <div class="formula-title">üß™ Reacci√≥n Qu√≠mica Fundamental</div>
                <div class="formula-equation">
                    <strong>Triglic√©ridos + Hidr√≥xido de Sodio ‚Üí Jab√≥n + Glicerina</strong><br>
                    C‚ÇÉH‚ÇÖ(OOCR)‚ÇÉ + 3 NaOH ‚Üí 3 RCOONa + C‚ÇÉH‚ÇÖ(OH)‚ÇÉ
                </div>
                <p style="margin-top: 15px; color: #bdc3c7;">
                    Esta reacci√≥n de hidr√≥lisis alcalina convierte las grasas en sales s√≥dicas de √°cidos grasos (jab√≥n) 
                    y glicerina, creando un producto con propiedades tensioactivas ideales para la limpieza.
                </p>
            </div>

            <div class="process-steps">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <div class="step-icon">üìã</div>
                    <h3>Formulaci√≥n Cient√≠fica</h3>
                    <p>
                        C√°lculo preciso de la relaci√≥n estequiom√©trica entre aceites vegetales y hidr√≥xido de sodio. 
                        Determinaci√≥n del √≠ndice de saponificaci√≥n espec√≠fico para cada grasa utilizada.
                    </p>
                </div>

                <div class="step-card">
                    <div class="step-number">2</div>
                    <div class="step-icon">üå°Ô∏è</div>
                    <h3>Control de Temperatura</h3>
                    <p>
                        Calentamiento controlado de aceites a 60-80¬∞C para optimizar la velocidad de reacci√≥n. 
                        Monitoreo t√©rmico continuo para evitar degradaci√≥n de componentes activos.
                    </p>
                </div>

                <div class="step-card">
                    <div class="step-number">3</div>
                    <div class="step-icon">‚öóÔ∏è</div>
                    <h3>Mezcla y Saponificaci√≥n</h3>
                    <p>
                        Adici√≥n gradual de soluci√≥n alcalina con agitaci√≥n mec√°nica controlada. 
                        Proceso de emulsificaci√≥n hasta alcanzar el punto de traza (viscosidad √≥ptima).
                    </p>
                </div>

                <div class="step-card">
                    <div class="step-number">4</div>
                    <div class="step-icon">üß™</div>
                    <h3>Adici√≥n de Activos</h3>
                    <p>
                        Incorporaci√≥n de aceites esenciales, antioxidantes naturales y agentes hidratantes. 
                        Microencapsulaci√≥n de componentes sensibles al calor.
                    </p>
                </div>

                <div class="step-card">
                    <div class="step-number">5</div>
                    <div class="step-icon">üî¨</div>
                    <h3>Control de Calidad</h3>
                    <p>
                        An√°lisis de pH, viscosidad y propiedades espumantes. 
                        Verificaci√≥n de la ausencia de hidr√≥xido libre y pruebas microbiol√≥gicas.
                    </p>
                </div>

                <div class="step-card">
                    <div class="step-number">6</div>
                    <div class="step-icon">üì¶</div>
                    <h3>Curado y Empaque</h3>
                    <p>
                        Per√≠odo de curado de 4-6 semanas para completar la saponificaci√≥n. 
                        Empaque herm√©tico con etiquetado cient√≠fico y fecha de elaboraci√≥n.
                    </p>
                </div>
            </div>
        </div>

        <!-- Secci√≥n de Beneficios de Higiene -->
        <div id="higiene" class="section">
            <h2>üßº Beneficios Higi√©nicos y Cient√≠ficos</h2>
            
            <div class="hygiene-benefits">
                <div class="hygiene-card">
                    <div class="hygiene-icon">ü¶†</div>
                    <h3>Acci√≥n Antimicrobiana</h3>
                    <p>
                        Los jabones naturales tienen un pH alcalino (9-10) que destruye la membrana celular 
                        de bacterias y virus, proporcionando una limpieza profunda y efectiva.
                    </p>
                </div>

                <div class="hygiene-card">
                    <div class="hygiene-icon">üíß</div>
                    <h3>Tensi√≥n Superficial</h3>
                    <p>
                        Los tensioactivos naturales reducen la tensi√≥n superficial del agua, 
                        permitiendo una mejor penetraci√≥n y remoci√≥n de suciedad y microorganismos.
                    </p>
                </div>

                <div class="hygiene-card">
                    <div class="hygiene-icon">üåø</div>
                    <h3>Ingredientes Naturales</h3>
                    <p>
                        Sin sulfatos, parabenos ni qu√≠micos sint√©ticos agresivos. 
                        Glicerina natural que hidrata y protege la barrera cut√°nea.
                    </p>
                </div>

                <div class="hygiene-card">
                    <div class="hygiene-icon">‚öñÔ∏è</div>
                    <h3>pH Balanceado</h3>
                    <p>
                        Formulaci√≥n cient√≠fica que respeta el equilibrio natural de la piel, 
                        evitando irritaciones y manteniendo la flora bacteriana beneficiosa.
                    </p>
                </div>

                <div class="hygiene-card">
                    <div class="hygiene-icon">üî¨</div>
                    <h3>Validaci√≥n Cient√≠fica</h3>
                    <p>
                        Cada lote es analizado en laboratorio para garantizar eficacia antimicrobiana 
                        y ausencia de contaminantes microbiol√≥gicos.
                    </p>
                </div>

                <div class="hygiene-card">
                    <div class="hygiene-icon">‚ôªÔ∏è</div>
                    <h3>Biodegradabilidad</h3>
                    <p>
                        100% biodegradable en menos de 28 d√≠as. Contribuye a la salud ambiental 
                        sin generar residuos t√≥xicos en el agua.
                    </p>
                </div>
            </div>
        </div>

        <!-- Secci√≥n de Contacto -->
        <div id="contacto" class="section">
            <h2>üìû Contacto y Pedidos</h2>
            
            <div class="team-section">
                <h3>üë• Nuestro Equipo de Desarrollo</h3>
                <p>Proyecto multidisciplinario de la Universidad de las Fuerzas Armadas ESPE</p>
                
                <div style="margin-bottom: 40px;">
                    <h4 style="color: #f39c12; font-size: 1.5rem; margin-bottom: 20px; text-align: center;">
                        üî¨ Especialistas en Ingenier√≠a Petroqu√≠mica
                    </h4>
                    <div class="team-grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); margin-bottom: 30px;">
                        <div class="team-member">
                            <div style="font-size: 3rem; margin-bottom: 10px;">üë©‚Äçüî¨</div>
                            <h4>Kelly Vasquez</h4>
                            <p><strong>Ingenier√≠a Petroqu√≠mica</strong></p>
                            <p>Ciencias de la Energ√≠a Mec√°nica</p>
                            <p style="font-size: 0.9rem; color: #bdc3c7;">kmvasquez2@espe.edu.ec</p>
                        </div>
                        
                        <div class="team-member">
                            <div style="font-size: 3rem; margin-bottom: 10px;">üë®‚Äçüî¨</div>
                            <h4>Alexander Ortiz</h4>
                            <p><strong>Ingenier√≠a Petroqu√≠mica</strong></p>
                            <p>Ciencias de la Energ√≠a Mec√°nica</p>
                            <p style="font-size: 0.9rem; color: #bdc3c7;">amortiz12@espe.edu.ec</p>
                        </div>
                        
                        <div class="team-member">
                            <div style="font-size: 3rem; margin-bottom: 10px;">üë®‚Äçüî¨</div>
                            <h4>Jostin Cede√±o</h4>
                            <p><strong>Ingenier√≠a Petroqu√≠mica</strong></p>
                            <p>Ciencias de la Energ√≠a Mec√°nica</p>
                            <p style="font-size: 0.9rem; color: #bdc3c7;">jacedeno15@espe.edu.ec</p>
                        </div>
                    </div>
                </div>

                <div>
                    <h4 style="color: #3498db; font-size: 1.5rem; margin-bottom: 20px; text-align: center;">
                        üíª Especialistas en Ingenier√≠a de Software
                    </h4>
                    <div class="team-grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
                        <div class="team-member">
                            <div style="font-size: 3rem; margin-bottom: 10px;">üë®‚Äçüíª</div>
                            <h4>Bryan Gualpa</h4>
                            <p><strong>Ingenier√≠a en Software</strong></p>
                            <p>Ciencias de la Computaci√≥n</p>
                            <p style="font-size: 0.9rem; color: #bdc3c7;">bagualpa@espe.edu.ec</p>
                        </div>
                        
                        <div class="team-member">
                            <div style="font-size: 3rem; margin-bottom: 10px;">üë®‚Äçüíª</div>
                            <h4>Richar Tigasi</h4>
                            <p><strong>Ingenier√≠a en Software</strong></p>
                            <p>Ciencias de la Computaci√≥n</p>
                            <p style="font-size: 0.9rem; color: #bdc3c7;">ratigasi@espe.edu.ec</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="social-buttons">
                <a href="https://wa.me/593987654321?text=Hola%2C%20quiero%20informaci√≥n%20sobre%20SaponoClean%20Pro" 
                   class="social-btn whatsapp" target="_blank">
                    <span>üì±</span> Ordenar por WhatsApp
                </a>
                
                <a href="https://www.facebook.com/SaponoCleanPro" 
                   class="social-btn facebook" target="_blank">
                    <span>üìò</span> S√≠guenos en Facebook
                </a>
                
                <a href="https://www.instagram.com/saponocleanpro" 
                   class="social-btn instagram" target="_blank">
                    <span>üì∑</span> Ver en Instagram
                </a>
            </div>

            <div style="text-align: center; margin-top: 40px; padding: 30px; background: rgba(255,255,255,0.1); border-radius: 15px;">
                <h3 style="color: #2c3e50; margin-bottom: 20px;">üìç Informaci√≥n de Contacto</h3>
                <p><strong>üè´ Instituci√≥n:</strong> Universidad de las Fuerzas Armadas ESPE</p>
                <p><strong>‚è∞ Horarios:</strong> Lunes a Viernes 8:00 AM - 6:00 PM</p>
            </div>
        </div>

        <!-- Carrito Flotante -->
        <div class="floating-cart" onclick="toggleCart()">
            üõí
            <div class="cart-count" id="cart-count">0</div>
        </div>

        <!-- Secci√≥n del Carrito -->
        <div class="cart-section" id="cart-section">
            <h2>üõí Tu Carrito de Compras</h2>
            <div id="cart-items"></div>
            <div style="text-align: center; margin-top: 20px;">
                <div id="cart-total" style="font-size: 1.5rem; font-weight: bold; color: #e74c3c; margin-bottom: 20px;">
                    Total: $0.00
                </div>
                <button class="btn" onclick="showOrderForm()">Proceder al Pedido</button>
                <button class="btn btn-danger" onclick="clearCart()" style="margin-left: 10px;">Vaciar Carrito</button>
            </div>
        </div>

        <!-- Formulario de Pedido -->
        <div class="order-form" id="order-form">
            <h2>üìã Formulario de Pedido</h2>
            <form onsubmit="submitOrder(event)">
                <div class="form-group">
                    <label for="customer-name">Nombre Completo *</label>
                    <input type="text" id="customer-name" required>
                </div>
                
                <div class="form-group">
                    <label for="customer-phone">Tel√©fono/WhatsApp *</label>
                    <input type="tel" id="customer-phone" required>
                </div>
                
                <div class="form-group">
                    <label for="customer-email">Email</label>
                    <input type="email" id="customer-email">
                </div>
                
                <div class="form-group">
                    <label for="customer-address">Direcci√≥n de Entrega *</label>
                    <textarea id="customer-address" rows="3" required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="delivery-preference">Preferencia de Entrega</label>
                    <select id="delivery-preference">
                        <option value="normal">Entrega Normal (3-5 d√≠as) - Gratis</option>
                        <option value="express">Entrega Express (1-2 d√≠as) - $2.00</option>
                        <option value="pickup">Recoger en Laboratorio - Gratis</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="special-instructions">Instrucciones Especiales</label>
                    <textarea id="special-instructions" rows="2" placeholder="Horario preferido, referencias de ubicaci√≥n, etc."></textarea>
                </div>
                
                <div style="text-align: center;">
                    <button type="submit" class="btn">Enviar Pedido</button>
                    <button type="button" class="btn btn-danger" onclick="hideOrderForm()" style="margin-left: 10px;">Cancelar</button>
                </div>
            </form>
        </div>

        <!-- Modal de Carga -->
        <div class="loading-modal" id="loading-modal">
            <div class="loading-content">
                <div class="loading-spinner"></div>
                <h3 style="color: #2c3e50; margin-bottom: 15px;">Procesando Pedido</h3>
                <p style="color: #7f8c8d; margin-bottom: 20px;">Enviando notificaciones por correo...</p>
                <div id="email-status"></div>
            </div>
        </div>

        <!-- Modal de Comprobante -->
        <div class="receipt-modal" id="receipt-modal">
            <div class="receipt-content">
                <button class="close-modal" onclick="closeReceipt()">&times;</button>
                
                <div class="receipt-header">
                    <div class="receipt-logo">üß™</div>
                    <div class="receipt-title">SaponoClean Pro</div>
                    <div class="receipt-subtitle">Jabones Artesanales con Base Cient√≠fica</div>
                    <div class="receipt-number" id="receipt-number">COMPROBANTE #001</div>
                </div>

                <div class="receipt-section">
                    <h3>üìã Informaci√≥n del Pedido</h3>
                    <div class="receipt-info">
                        <div>
                            <div class="receipt-field">
                                <strong>üìÖ Fecha:</strong>
                                <span id="receipt-date"></span>
                            </div>
                            <div class="receipt-field">
                                <strong>‚è∞ Hora:</strong>
                                <span id="receipt-time"></span>
                            </div>
                            <div class="receipt-field">
                                <strong>üìä Estado:</strong>
                                <span style="color: #f39c12; font-weight: bold;">Pendiente de Confirmaci√≥n</span>
                            </div>
                        </div>
                        <div>
                            <div class="receipt-field">
                                <strong>üöö Tipo de Entrega:</strong>
                                <span id="receipt-delivery"></span>
                            </div>
                            <div class="receipt-field">
                                <strong>üí≥ M√©todo de Pago:</strong>
                                <span>Contra Entrega</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="receipt-section">
                    <h3>üë§ Datos del Cliente</h3>
                    <div class="receipt-info">
                        <div>
                            <div class="receipt-field">
                                <strong>Nombre:</strong>
                                <span id="receipt-customer-name"></span>
                            </div>
                            <div class="receipt-field">
                                <strong>Tel√©fono:</strong>
                                <span id="receipt-customer-phone"></span>
                            </div>
                        </div>
                        <div>
                            <div class="receipt-field">
                                <strong>Email:</strong>
                                <span id="receipt-customer-email"></span>
                            </div>
                            <div class="receipt-field">
                                <strong>Direcci√≥n:</strong>
                                <span id="receipt-customer-address"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="receipt-section">
                    <h3>üõí Productos Solicitados</h3>
                    <div class="receipt-products" id="receipt-products">
                        <!-- Los productos se cargar√°n aqu√≠ din√°micamente -->
                    </div>
                </div>

                <div class="receipt-total">
                    <div>Total a Pagar:</div>
                    <div class="receipt-total-amount" id="receipt-total-amount">$0.00</div>
                    <div style="font-size: 1rem; opacity: 0.9;">Incluye todos los impuestos</div>
                </div>

                <div class="receipt-qr">
                    <div style="font-size: 4rem; margin-bottom: 10px;">üì±</div>
                    <div style="font-weight: bold; color: #2c3e50;">C√≥digo de Seguimiento</div>
                    <div style="font-family: monospace; font-size: 1.2rem; color: #3498db; margin-top: 5px;" id="tracking-code">
                        SC-2024-001
                    </div>
                    <div style="font-size: 0.9rem; color: #7f8c8d; margin-top: 5px;">
                        Usa este c√≥digo para consultar el estado de tu pedido
                    </div>
                </div>

                <div class="receipt-section">
                    <h3>‚ÑπÔ∏è Informaci√≥n Importante</h3>
                    <ul style="list-style: none; padding: 0; color: #555;">
                        <li style="margin: 8px 0;">‚úÖ <strong>Confirmaci√≥n:</strong> Recibir√°s confirmaci√≥n por WhatsApp en 5-10 minutos</li>
                        <li style="margin: 8px 0;">üì¶ <strong>Preparaci√≥n:</strong> Tu pedido se preparar√° en nuestro laboratorio</li>
                        <li style="margin: 8px 0;">üöö <strong>Entrega:</strong> Seg√∫n la opci√≥n seleccionada</li>
                        <li style="margin: 8px 0;">üí∞ <strong>Pago:</strong> Contraentrega en efectivo o transferencia</li>
                        <li style="margin: 8px 0;">üîÑ <strong>Garant√≠a:</strong> 100% satisfacci√≥n garantizada</li>
                    </ul>
                </div>

                <div class="receipt-actions">
                    <button class="receipt-btn receipt-btn-primary" onclick="printReceipt()">
                        üñ®Ô∏è Imprimir Comprobante
                    </button>
                    <button class="receipt-btn receipt-btn-success" onclick="downloadReceipt()">
                        üíæ Descargar PDF
                    </button>
                    <button class="receipt-btn receipt-btn-secondary" onclick="shareReceipt()">
                        üì§ Compartir
                    </button>
                </div>

                <div class="receipt-footer">
                    <p><strong>SaponoClean Pro</strong> - Proyecto Universitario</p>
                    <p>üìç San Miguel, Cotopaxi, Ecuador | üè´ Universidad de las Fuerzas Armadas ESPE</p>
                    <p>üìß info@saponocleanpro.com</p>
                    <p style="margin-top: 15px; font-size: 0.8rem;">
                        Este comprobante es v√°lido para reclamaciones y seguimiento de pedido.<br>
                        Conserva este documento hasta recibir tu pedido completo.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // Variables globales
        let cart = {};
        let quantities = {
            'basic': 0,
            'aroma': 0,
            'premium': 0
        };
        let receiptCounter = 1;

        // Configuraci√≥n de correos del equipo
        const teamEmails = [
            'kmvasquez2@espe.edu.ec',
            'amortiz12@espe.edu.ec', 
            'jacedeno15@espe.edu.ec',
            'bagualpa@espe.edu.ec',
            'ratigasi@espe.edu.ec'
        ];

        // Mostrar secciones
        function showSection(sectionId) {
            // Ocultar todas las secciones
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });

            // Ocultar carrito y formulario
            document.getElementById('cart-section').style.display = 'none';
            document.getElementById('order-form').style.display = 'none';

            // Mostrar la secci√≥n seleccionada
            document.getElementById(sectionId).classList.add('active');

            // Actualizar botones de navegaci√≥n
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // Cambiar cantidad de productos
        function changeQuantity(productId, change) {
            quantities[productId] = Math.max(0, quantities[productId] + change);
            document.getElementById(productId + '-qty').textContent = quantities[productId];
        }

        // Agregar al carrito
        function addToCart(productId, productName, price) {
            const quantity = quantities[productId];
            if (quantity === 0) {
                showAlert('Por favor selecciona una cantidad mayor a 0', 'warning');
                return;
            }

            if (cart[productId]) {
                cart[productId].quantity += quantity;
            } else {
                cart[productId] = {
                    name: productName,
                    price: price,
                    quantity: quantity
                };
            }

            // Resetear cantidad despu√©s de agregar
            quantities[productId] = 0;
            document.getElementById(productId + '-qty').textContent = '0';

            updateCartDisplay();
            showAlert(`${quantity} ${productName} agregado al carrito`, 'success');
        }

        // Actualizar visualizaci√≥n del carrito
        function updateCartDisplay() {
            const cartItems = document.getElementById('cart-items');
            const cartCount = document.getElementById('cart-count');
            const cartTotal = document.getElementById('cart-total');

            let totalItems = 0;
            let totalPrice = 0;
            let cartHTML = '';

            if (Object.keys(cart).length === 0) {
                cartHTML = '<p style="text-align: center; color: #7f8c8d; font-size: 1.2rem;">Tu carrito est√° vac√≠o</p>';
            } else {
                for (let productId in cart) {
                    const item = cart[productId];
                    totalItems += item.quantity;
                    totalPrice += item.price * item.quantity;

                    cartHTML += `
                        <div class="cart-item">
                            <div class="cart-item-info">
                                <strong>${item.name}</strong><br>
                                ${item.price.toFixed(2)} x ${item.quantity} = ${(item.price * item.quantity).toFixed(2)}
                            </div>
                            <div>
                                <button class="quantity-btn" onclick="updateCartQuantity('${productId}', -1)">-</button>
                                <span style="margin: 0 10px;">${item.quantity}</span>
                                <button class="quantity-btn" onclick="updateCartQuantity('${productId}', 1)">+</button>
                                <button class="btn btn-danger" onclick="removeFromCart('${productId}')" style="margin-left: 10px; padding: 5px 10px; font-size: 0.9rem;">Eliminar</button>
                            </div>
                        </div>
                    `;
                }
            }

            cartItems.innerHTML = cartHTML;
            cartCount.textContent = totalItems;
            cartTotal.textContent = `Total: ${totalPrice.toFixed(2)}`;

            // Mostrar/ocultar contador del carrito
            cartCount.style.display = totalItems > 0 ? 'flex' : 'none';
        }

        // Actualizar cantidad en el carrito
        function updateCartQuantity(productId, change) {
            if (cart[productId]) {
                cart[productId].quantity = Math.max(0, cart[productId].quantity + change);
                if (cart[productId].quantity === 0) {
                    delete cart[productId];
                }
                updateCartDisplay();
            }
        }

        // Eliminar del carrito
        function removeFromCart(productId) {
            if (cart[productId]) {
                delete cart[productId];
                updateCartDisplay();
                showAlert('Producto eliminado del carrito', 'success');
            }
        }

        // Vaciar carrito
        function clearCart() {
            if (Object.keys(cart).length === 0) {
                showAlert('El carrito ya est√° vac√≠o', 'warning');
                return;
            }
            
            if (confirm('¬øEst√°s seguro de que quieres vaciar el carrito?')) {
                cart = {};
                updateCartDisplay();
                showAlert('Carrito vaciado', 'success');
            }
        }

        // Toggle carrito
        function toggleCart() {
            const cartSection = document.getElementById('cart-section');
            const orderForm = document.getElementById('order-form');
            
            // Ocultar formulario si est√° visible
            orderForm.style.display = 'none';
            
            if (cartSection.style.display === 'none' || cartSection.style.display === '') {
                cartSection.style.display = 'block';
                cartSection.scrollIntoView({ behavior: 'smooth' });
            } else {
                cartSection.style.display = 'none';
            }
        }

        // Mostrar formulario de pedido
        function showOrderForm() {
            if (Object.keys(cart).length === 0) {
                showAlert('Tu carrito est√° vac√≠o. Agrega productos antes de hacer un pedido.', 'warning');
                return;
            }

            document.getElementById('cart-section').style.display = 'none';
            document.getElementById('order-form').style.display = 'block';
            document.getElementById('order-form').scrollIntoView({ behavior: 'smooth' });
        }

        // Ocultar formulario de pedido
        function hideOrderForm() {
            document.getElementById('order-form').style.display = 'none';
            document.getElementById('cart-section').style.display = 'block';
        }

        // Funci√≥n para enviar correo usando EmailJS
        async function sendEmailNotification(orderData) {
            try {
                const emailPromises = teamEmails.map(email => {
                    const templateParams = {
                        to_email: email,
                        customer_name: orderData.name,
                        customer_phone: orderData.phone, 
                        customer_email: orderData.email || 'No proporcionado',
                        customer_address: orderData.address,
                        delivery_type: orderData.deliveryText,
                        products_list: orderData.productsText,
                        total_amount: orderData.totalPrice.toFixed(2),
                        order_number: orderData.orderNumber,
                        tracking_code: orderData.trackingCode,
                        special_instructions: orderData.instructions || 'Ninguna',
                        order_date: new Date().toLocaleDateString('es-EC'),
                        order_time: new Date().toLocaleTimeString('es-EC')
                    };

                    // Simulamos el env√≠o de correo (en un entorno real usar√≠as EmailJS o un servicio similar)
                    return new Promise((resolve) => {
                        setTimeout(() => {
                            console.log(`Correo enviado a: ${email}`, templateParams);
                            resolve({ success: true, email: email });
                        }, Math.random() * 1000 + 500); // Simula delay de red
                    });
                });

                const results = await Promise.all(emailPromises);
                return results;
            } catch (error) {
                console.error('Error enviando correos:', error);
                return [{ success: false, error: error.message }];
            }
        }

        // Funci√≥n para generar PDF del comprobante
        function generateReceiptPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Configuraci√≥n inicial
            doc.setFontSize(20);
            doc.setTextColor(44, 62, 80);
            doc.text('SaponoClean Pro', 105, 20, { align: 'center' });

            doc.setFontSize(12);
            doc.setTextColor(127, 140, 141);
            doc.text('Jabones Artesanales con Base Cient√≠fica', 105, 30, { align: 'center' });

            // N√∫mero de comprobante
            doc.setFontSize(14);
            doc.setTextColor(52, 152, 219);
            const receiptNumber = document.getElementById('receipt-number').textContent;
            doc.text(receiptNumber, 105, 45, { align: 'center' });

            // Informaci√≥n del pedido
            doc.setFontSize(12);
            doc.setTextColor(44, 62, 80);
            doc.text('INFORMACI√ìN DEL PEDIDO', 20, 65);
            doc.line(20, 67, 190, 67);

            const date = document.getElementById('receipt-date').textContent;
            const time = document.getElementById('receipt-time').textContent;
            const delivery = document.getElementById('receipt-delivery').textContent;

            doc.text(`Fecha: ${date}`, 20, 80);
            doc.text(`Hora: ${time}`, 20, 90);
            doc.text(`Entrega: ${delivery}`, 20, 100);
            doc.text('Estado: Pendiente de Confirmaci√≥n', 20, 110);

            // Datos del cliente
            doc.text('DATOS DEL CLIENTE', 20, 130);
            doc.line(20, 132, 190, 132);

            const customerName = document.getElementById('receipt-customer-name').textContent;
            const customerPhone = document.getElementById('receipt-customer-phone').textContent;
            const customerEmail = document.getElementById('receipt-customer-email').textContent;
            const customerAddress = document.getElementById('receipt-customer-address').textContent;

            doc.text(`Nombre: ${customerName}`, 20, 145);
            doc.text(`Tel√©fono: ${customerPhone}`, 20, 155);
            doc.text(`Email: ${customerEmail}`, 20, 165);
            
            // Dividir la direcci√≥n en l√≠neas si es muy larga
            const addressLines = doc.splitTextToSize(`Direcci√≥n: ${customerAddress}`, 170);
            doc.text(addressLines, 20, 175);

            // Productos
            let yPosition = 195;
            doc.text('PRODUCTOS SOLICITADOS', 20, yPosition);
            doc.line(20, yPosition + 2, 190, yPosition + 2);
            yPosition += 15;

            for (let productId in cart) {
                const item = cart[productId];
                const itemTotal = item.price * item.quantity;
                doc.text(`${item.name} x${item.quantity}`, 20, yPosition);
                doc.text(`${itemTotal.toFixed(2)}`, 160, yPosition, { align: 'right' });
                yPosition += 10;
            }

            // Agregar costo de entrega si aplica
            const deliveryOption = document.getElementById('delivery-preference').value;
            if (deliveryOption === 'express') {
                doc.text('Entrega Express', 20, yPosition);
                doc.text('$2.00', 160, yPosition, { align: 'right' });
                yPosition += 10;
            }

            // Total
            yPosition += 5;
            doc.line(20, yPosition, 190, yPosition);
            yPosition += 10;
            
            doc.setFontSize(14);
            doc.setTextColor(231, 76, 60);
            const totalAmount = document.getElementById('receipt-total-amount').textContent;
            doc.text('TOTAL:', 20, yPosition);
            doc.text(`${totalAmount}`, 160, yPosition, { align: 'right' });

            // C√≥digo de seguimiento
            yPosition += 20;
            doc.setFontSize(12);
            doc.setTextColor(44, 62, 80);
            doc.text('C√ìDIGO DE SEGUIMIENTO', 20, yPosition);
            doc.line(20, yPosition + 2, 190, yPosition + 2);
            
            const trackingCode = document.getElementById('tracking-code').textContent;
            doc.setFontSize(14);
            doc.setTextColor(52, 152, 219);
            doc.text(trackingCode, 105, yPosition + 15, { align: 'center' });

            // Informaci√≥n adicional
            yPosition += 35;
            doc.setFontSize(10);
            doc.setTextColor(127, 140, 141);
            doc.text('Universidad de las Fuerzas Armadas ESPE', 105, yPosition, { align: 'center' });
            doc.text('San Miguel, Cotopaxi, Ecuador', 105, yPosition + 10, { align: 'center' });
            doc.text('info@saponocleanpro.com', 105, yPosition + 20, { align: 'center' });

            return doc;
        }

        // Enviar pedido (SIN redirecci√≥n autom√°tica a WhatsApp)
        async function submitOrder(event) {
            event.preventDefault();

            const name = document.getElementById('customer-name').value;
            const phone = document.getElementById('customer-phone').value;
            const email = document.getElementById('customer-email').value;
            const address = document.getElementById('customer-address').value;
            const delivery = document.getElementById('delivery-preference').value;
            const instructions = document.getElementById('special-instructions').value;

            // Mostrar modal de carga
            document.getElementById('loading-modal').classList.add('active');
            const emailStatus = document.getElementById('email-status');

            // Calcular total y preparar datos del pedido
            let totalPrice = 0;
            let productsText = '';

            for (let productId in cart) {
                const item = cart[productId];
                const itemTotal = item.price * item.quantity;
                totalPrice += itemTotal;
                productsText += `${item.name} x${item.quantity} (${itemTotal.toFixed(2)}), `;
            }

            // Agregar costo de entrega
            let deliveryCost = 0;
            let deliveryText = '';
            switch(delivery) {
                case 'express':
                    deliveryCost = 2.00;
                    deliveryText = 'Entrega Express (1-2 d√≠as)';
                    break;
                case 'pickup':
                    deliveryText = 'Recoger en Laboratorio';
                    break;
                default:
                    deliveryText = 'Entrega Normal (3-5 d√≠as)';
            }

            totalPrice += deliveryCost;

            // Generar n√∫mero de pedido y c√≥digo de seguimiento
            const orderNumber = `SC-${new Date().getFullYear()}-${String(receiptCounter).padStart(3, '0')}`;
            const trackingCode = `${orderNumber}-${Date.now().toString().slice(-4)}`;

            // Preparar datos para el correo
            const orderData = {
                name,
                phone,
                email,
                address,
                deliveryText,
                productsText: productsText.slice(0, -2), // Remover √∫ltima coma
                totalPrice,
                orderNumber,
                trackingCode,
                instructions
            };

            try {
                // Enviar correos al equipo
                emailStatus.innerHTML = '<div style="color: #3498db;">üìß Enviando notificaciones por correo...</div>';
                
                const emailResults = await sendEmailNotification(orderData);
                
                const successCount = emailResults.filter(result => result.success).length;
                const totalEmails = emailResults.length;

                if (successCount === totalEmails) {
                    emailStatus.innerHTML = `<div class="email-success">‚úÖ Correos enviados exitosamente (${successCount}/${totalEmails})</div>`;
                } else if (successCount > 0) {
                    emailStatus.innerHTML = `<div class="email-success">‚ö†Ô∏è Correos enviados parcialmente (${successCount}/${totalEmails})</div>`;
                } else {
                    emailStatus.innerHTML = `<div class="email-error">‚ùå Error enviando correos. Contacta por WhatsApp.</div>`;
                }

                // Esperar un momento para mostrar el resultado
                await new Promise(resolve => setTimeout(resolve, 1500));

                // Ocultar modal de carga
                document.getElementById('loading-modal').classList.remove('active');

                // Mostrar comprobante
                showReceipt(orderData);

                // Limpiar formulario y carrito
                document.getElementById('order-form').style.display = 'none';
                cart = {};
                updateCartDisplay();
                
                // Resetear formulario
                event.target.reset();
                
                // Incrementar contador de recibos
                receiptCounter++;

                showAlert('¬°Pedido procesado exitosamente! El equipo ha sido notificado por correo electr√≥nico.', 'success');

            } catch (error) {
                console.error('Error procesando pedido:', error);
                document.getElementById('loading-modal').classList.remove('active');
                showAlert('Error procesando el pedido. Por favor intenta nuevamente.', 'error');
            }
        }

        // Mostrar comprobante
        function showReceipt(orderData) {
            const now = new Date();
            
            // Llenar datos del comprobante
            document.getElementById('receipt-number').textContent = `COMPROBANTE ${orderData.orderNumber}`;
            document.getElementById('receipt-date').textContent = now.toLocaleDateString('es-EC');
            document.getElementById('receipt-time').textContent = now.toLocaleTimeString('es-EC');
            document.getElementById('receipt-delivery').textContent = orderData.deliveryText;
            document.getElementById('receipt-customer-name').textContent = orderData.name;
            document.getElementById('receipt-customer-phone').textContent = orderData.phone;
            document.getElementById('receipt-customer-email').textContent = orderData.email || 'No proporcionado';
            document.getElementById('receipt-customer-address').textContent = orderData.address;
            document.getElementById('receipt-total-amount').textContent = `${orderData.totalPrice.toFixed(2)}`;
            document.getElementById('tracking-code').textContent = orderData.trackingCode;

            // Llenar productos
            let productsHTML = '';
            for (let productId in cart) {
                const item = cart[productId];
                const itemTotal = item.price * item.quantity;
                productsHTML += `
                    <div class="receipt-product">
                        <span>${item.name} x${item.quantity}</span>
                        <span>${itemTotal.toFixed(2)}</span>
                    </div>
                `;
            }
            
            // Agregar costo de entrega si aplica
            const delivery = document.getElementById('delivery-preference').value;
            if (delivery === 'express') {
                productsHTML += `
                    <div class="receipt-product">
                        <span>Entrega Express</span>
                        <span>$2.00</span>
                    </div>
                `;
            }

            productsHTML += `
                <div class="receipt-product">
                    <span><strong>TOTAL</strong></span>
                    <span><strong>${orderData.totalPrice.toFixed(2)}</strong></span>
                </div>
            `;

            document.getElementById('receipt-products').innerHTML = productsHTML;

            // Mostrar modal del comprobante
            document.getElementById('receipt-modal').classList.add('active');
        }

        // Cerrar comprobante
        function closeReceipt() {
            document.getElementById('receipt-modal').classList.remove('active');
        }

        // Imprimir comprobante
        function printReceipt() {
            window.print();
        }

        // Descargar comprobante como PDF - FUNCIONAL
        function downloadReceipt() {
            try {
                const doc = generateReceiptPDF();
                const trackingCode = document.getElementById('tracking-code').textContent;
                const filename = `Comprobante_SaponoClean_${trackingCode}.pdf`;
                
                doc.save(filename);
                showAlert('¬°Comprobante PDF descargado exitosamente!', 'success');
            } catch (error) {
                console.error('Error generando PDF:', error);
                showAlert('Error al generar el PDF. Por favor intenta imprimir el comprobante.', 'error');
            }
        }

        // Compartir comprobante
        function shareReceipt() {
            if (navigator.share) {
                const trackingCode = document.getElementById('tracking-code').textContent;
                const customerName = document.getElementById('receipt-customer-name').textContent;
                
                navigator.share({
                    title: 'Comprobante SaponoClean Pro',
                    text: `Comprobante de pedido para ${customerName}. C√≥digo de seguimiento: ${trackingCode}`,
                    url: window.location.href
                });
            } else {
                // Fallback para navegadores que no soportan Web Share API
                const trackingCode = document.getElementById('tracking-code').textContent;
                const shareText = `Mi pedido en SaponoClean Pro - C√≥digo: ${trackingCode}`;
                
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(shareText);
                    showAlert('Informaci√≥n del pedido copiada al portapapeles', 'success');
                } else {
                    showAlert('Funci√≥n de compartir no disponible en este navegador', 'warning');
                }
            }
        }

        // Mostrar alertas
        function showAlert(message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            
            document.body.appendChild(alertDiv);
            
            // Posicionar la alerta
            alertDiv.style.position = 'fixed';
            alertDiv.style.top = '20px';
            alertDiv.style.left = '50%';
            alertDiv.style.transform = 'translateX(-50%)';
            alertDiv.style.zIndex = '10000';
            alertDiv.style.maxWidth = '90%';
            alertDiv.style.animation = 'fadeInUp 0.5s ease-out';

            // Eliminar despu√©s de 4 segundos
            setTimeout(() => {
                alertDiv.remove();
            }, 4000);
        }

        // Cerrar modal al hacer clic fuera
        document.getElementById('receipt-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeReceipt();
            }
        });

        document.getElementById('loading-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                // No permitir cerrar el modal de carga haciendo clic fuera
                return;
            }
        });

        // Inicializar p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            updateCartDisplay();
            
            // Agregar smooth scroll para mejor experiencia
            document.documentElement.style.scrollBehavior = 'smooth';
        });

        // Compatibilidad con Facebook
        window.fbAsyncInit = function() {
            FB.init({
                appId: '123456789',
                cookie: true,
                xfbml: true,
                version: 'v18.0'
            });
        };

        // Cargar SDK de Facebook
        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "https://connect.facebook.net/es_ES/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>
</body>
</html>
